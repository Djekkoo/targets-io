<section data-ng-controller="ProductsController" data-ng-init="findOne()">
    <div data-ng-include="'modules/core/views/confirm-delete-modal.client.view.html'"></div>
    <div class="page-header">
        <div layout="row">
            <div layout="column">
                <div style="margin-left:20px;" layout="column">
                    <h3 class="md-headline">{{product.description}}</h3>
                    <h4>Number of test runs: {{numberOfTestRuns}}</h4>
                    <h4>Total test duration: {{totalDuration}}</h4>
                </div>
                <div running-test></div>
                <div layout="row">
                    <div>
                        <md-menu>
                            <md-button aria-label="Open edit menu" class="md-icon-button"
                                       ng-click="openMenu($mdOpenMenu, $event)">
                                <md-icon md-menu-origin md-svg-src="images/assets/ic_menu_black_36px.svg"></md-icon>
                                <md-tooltip>
                                    Edit menu
                                </md-tooltip>
                            </md-button>
                            <md-menu-content width="4">
                                <md-menu-item>
                                    <md-button data-ng-click="editProduct(product.name)">
                                        <md-icon md-svg-src="images/assets/ic_mode_edit_black_36px.svg"
                                                 md-menu-align-target></md-icon>
                                        Edit product
                                    </md-button>
                                </md-menu-item>
                                <md-menu-divider></md-menu-divider>
                                <md-menu-item>
                                    <md-button data-ng-click="editProductRequirememts()">
                                        <md-icon md-svg-src="images/assets/ic_mode_edit_black_36px.svg"
                                                 md-menu-align-target></md-icon>
                                        Product requirements
                                    </md-button>
                                </md-menu-item>
                                <md-menu-divider></md-menu-divider>
                                <md-menu-item>
                                    <md-button class="danger" data-ng-click="openDeleteProductModal('', $index)">
                                        <md-icon md-svg-src="images/assets/ic_delete_black_36px.svg"></md-icon>
                                        Delete product
                                    </md-button>
                                </md-menu-item>

                            </md-menu-content>
                        </md-menu>
                    </div>
                </div>
            </div>
        </div>
        <div>
            <md-tabs md-dynamic-height md-selected="selectedIndex">
                <md-tab label="Releases" ng-click="setTab(0)">
                    <md-content class="md-padding">
                        <product-releases></product-releases>
                    </md-content>
                </md-tab>
                <md-tab label="Test runs" ng-click="setTab(1)">
                    <md-content class="md-padding">
                        <product-testruns></product-testruns>
                    </md-content>
                </md-tab>
            </md-tabs>
        </div>
    </div>
</section>
