<div class="page-header">
    <div layout="column">
        <span class="md-subhead" style="padding-bottom: 20px;"><a
                data-ng-href="/#!/browse/{{productName}}/{{dashboardName}}">{{productName}}-{{dashboardName}}</a>  /  {{testRun.testRunId}}</span>
        <span class="md-display-1">Benchmark to previous build</span>
        <h5 ng-if="testRun.previousBuild">Baseline: {{testRun.previousBuild}}</h5>
    </div>
</div>
<ul class="nav nav-tabs nav-justified">
    <li ng-class="{active: isSet(0)}">
        <a href ng-click="setTab(0)">Passed</a></li>
    <li ng-class="{active: isSet(1)}">
        <a href ng-click="setTab(1)">Failed</a></li>
</ul>
<table ng-table="tableParams" class="table">
    <tbody ng-repeat="group in $groups">
    <tr class="ng-table-group">
        <td>
            <a href="" ng-click="group.$hideRows = !group.$hideRows">
                <span class="glyphicon"
                      ng-class="{ 'glyphicon-chevron-right': group.$hideRows, 'glyphicon-chevron-down': !group.$hideRows }"></span>
                <strong>{{ group.value }}</strong>
            </a>
        </td>
    </tr>
    <tr ng-hide="group.$hideRows" ng-repeat="target in group.data" class="hover-row">
        <td sortable="target" data-title="'Metric'" header-class="text-left">
            {{target.target}}
        </td>
        <td sortable="value" data-title="'Baseline value'" header-class="text-left">
            {{target.benchmarkPreviousValue}}
        </td>
        <td data-title="'Value'" header-class="text-left">{{target.value}}</td>
        <td data-title="'Allowed deviation'" header-class="text-left">{{target.benchmarkOperator}}
            {{target.benchmarkValue}}
        </td>
        <td data-title="'Result'" header-class="text-left">
            <span title="Go to graph" class="pointer"
                  ui-sref="viewGraphs({productName: target.productName, dashboardName:target.dashboardName, testRunId: target.testRunId, tag: target.tag, metricFilter: target.metric, selectedSeries: target.target})"
                  ng-class="target.benchmarkResultPreviousOK ? 'fa-lg fa fa-check-circle-o text-success center' : 'fa-lg fa fa-exclamation-circle text-danger center'"></span>
            <span title="Configure metric"
                  ui-sref="editMetric({productName: target.productName, dashboardName:target.dashboardName})"
                  class="fa-lg fa fa-wrench pull-right"></span>
        </td>

    </tr>
    </tbody>
</table>
