<div data-ng-controller="DashboardsController as tab" data-ng-init="">
    <div class="dashboardView" data-ng-include="'modules/core/views/confirm-delete-modal.client.view.html'"></div>
    <div class="page-header">
        <div layout="row">
            <div layout="column">
                <div layout="column">
                    <h1 class="md-display-1">{{productName}}-{{dashboard.name}}</h1>

                    <h3 class="md-headline">{{dashboard.description}}</h3>
                </div>
                <div running-test></div>
                <div layout="row">
                    <div>
                        <md-menu>
                            <md-button aria-label="Open edit menu" class="md-icon-button"
                                       ng-click="openMenu($mdOpenMenu, $event)">
                                <md-icon md-menu-origin md-svg-src="images/assets/ic_menu_black_36px.svg"></md-icon>
                                <md-tooltip>
                                    Dashboard menu
                                </md-tooltip>
                            </md-button>
                            <md-menu-content width="4">
                                <md-menu-item>
                                    <md-button data-ng-click="edit()">
                                        <md-icon md-svg-src="images/assets/ic_mode_edit_black_36px.svg"
                                                 md-menu-align-target></md-icon>
                                        Edit dashboard
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item>
                                    <md-button data-ng-click="clone()">
                                        <md-icon md-svg-src="images/assets/ic_queue_black_36px.svg"></md-icon>
                                        Clone dashboard
                                    </md-button>
                                </md-menu-item>
                                <md-menu-item>
                                    <md-button data-ng-click="manageTags()">
                                        <md-icon md-svg-src="images/assets/ic_local_offer_black_36px.svg"></md-icon>
                                        Manage tags
                                    </md-button>
                                </md-menu-item>
                                <md-menu-divider></md-menu-divider>
                                <md-menu-item>
                                    <md-button class="danger" data-ng-click="openDeleteDashboardModal('', $index)">
                                        <md-icon md-svg-src="images/assets/ic_delete_black_36px.svg"></md-icon>
                                        Delete dashboard
                                    </md-button>
                                </md-menu-item>
                                <md-menu-divider></md-menu-divider>
                                <md-menu-item>
                                    <md-button data-ng-click="addTemplate()">
                                        <md-icon md-svg-src="images/assets/ic_content_copy_black_36px.svg"></md-icon>
                                        Create template
                                    </md-button>
                                </md-menu-item>
                                <md-menu-divider></md-menu-divider>
                                <md-menu-item>
                                    <md-button data-ng-click="addTestRun()">
                                        <md-icon md-svg-src="images/assets/testrun.svg"></md-icon>
                                        Add Test Run
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                    </div>
                    <div>
                        <md-button ng-if="!showDialog" class="md-icon-button" data-ng-click="viewLiveGraphs()">
                            <md-icon md-svg-src="images/assets/ic_live_tv_black_36px.svg"></md-icon>
                            <md-tooltip>
                                Live graphs
                            </md-tooltip>
                        </md-button>
                    </div>
                    <div>
                        <md-menu>
                            <md-button aria-label="Open edit menu" class="md-icon-button"
                                       ng-click="openMenu($mdOpenMenu, $event)">
                                <md-icon md-menu-origin md-svg-src="images/assets/ic_library_add_black_36px.svg"></md-icon>
                                <md-tooltip>
                                    Merge dashboard template
                                </md-tooltip>
                            </md-button>
                            <md-menu-content width="4">
                                <md-menu-item ng-repeat="template in templates">
                                    <md-button data-ng-click="mergeTemplate($index)">
                                        {{template.name}}: {{template.description}}
                                    </md-button>
                                </md-menu-item>
                            </md-menu-content>
                        </md-menu>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <div>
        <md-tabs md-dynamic-height md-selected="selectedIndex">
            <md-tab  label="Test runs" ng-click="setTab(0)">
                <md-content class="md-padding">
                    <div data-ng-include="'modules/testruns/views/testruns.client.view.html'"></div>
                </md-content>
            </md-tab>
            <md-tab label="Metrics configuration" ng-click="setTab(1)">
                <md-content class="md-padding">
                    <div data-ng-include="'modules/dashboards/views/view-dashboard-metrics.client.view.html'"></div>
                </md-content>
            </md-tab>
            <md-tab label="Events" ng-click="setTab(2)">
                <md-content class="md-padding">
                    <div data-ng-include="'modules/events/views/list-events-dashboard.client.view.html'"></div>
                </md-content>
            </md-tab>


        </md-tabs>
    </div>
</div>
