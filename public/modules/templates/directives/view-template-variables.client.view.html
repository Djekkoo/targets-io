<div data-ng-include="'modules/core/views/confirm-delete-modal.client.view.html'"></div>
<div layout="column">
    <div layout="row">
        <div flex="90"></div>
        <div flex="10">
            <md-button ng-if="variableSelected" md-no-ink class="md-accent" ng-click="openDeleteSelectedVariablesModal('')" style="margin: 0px;" >Delete selected</md-button>
        </div>
    </div>
    <table class="table">
        <colgroup>
            <col span="1" style="width: 20%;">
            <col span="1" style="width: 20%;">
            <col span="1" style="width: 50%;">
            <col span="1" style="width: 5%;">
            <col span="1" style="width: 5%;">
        </colgroup>
        <thead>
        <tr>
            <th>Variable</th>
            <th>Description</th>
            <th>Query</th>
            <th><i class="glyphicon glyphicon-plus" data-ng-click="addVariable()"></i></th>
            <th>
                <md-checkbox md-no-ink aria-label="select all variables" ng-model="allVariablesSelected" ng-change="setAllVariablesSelected(allVariablesSelected)" style="margin: 0px;">
                </md-checkbox>
            </th>

        </tr>
        </thead>
        <tbody>

        <tr ng-repeat="variable in template.variables" class="hover-row">
            <td class="pointer" ng-click="editVariable($index)">
                {{variable.name}}
            </td>
            <td class="pointer" ng-click="editVariable($index)">{{variable.description}}</td>
            <td class="pointer" ng-click="editVariable($index)">{{variable.query}}</td>
            </td>
            <td>
                <i class="glyphicon glyphicon-arrow-up" data-ng-click="moveUp($index)" ng-if="$index > 0" title="Move up"></i>
            </td>
            <td>
                <md-checkbox md-no-ink aria-label="select variable" ng-model="variable.selected"  ng-change="setVariablesSelected(variable.selected)" style="margin: 0px;">
                </md-checkbox>
            </td>
        </tr>
        </tbody>
    </table>
</div>
