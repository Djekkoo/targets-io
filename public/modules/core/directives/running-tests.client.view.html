<div layout="column">
    <h3>Running test runs</h3>
    <md-progress-linear ng-if="runningTests.length > 0" md-mode="indeterminate"></md-progress-linear>
    <table class="table">
        <thead>
        <tr>
            <th>
                Product
            </th>
            <th>
                Dashboard
            </th>
            <th>
                Test run ID
            </th>
            <th>
                Started
            </th>
            <th>
                Duration
            </th>
            <th>
                Progress
            </th>


       
        </thead>
        <tr ng-if="runningTests.length === 0">
            <td>No running tests</td>
            <td></td>
            <td></td>
            <td></td>
        </tr>
        <tbody>
        <tr ng-repeat="runningTest in runningTests" class="hover-row pointer" >
            <td ui-sref="viewProduct({productName: runningTest.productName})" title="Open product">
                {{runningTest.productName}}
            </td>
            <td ui-sref="viewDashboard({productName: runningTest.productName, dashboardName: runningTest.dashboardName})" title="Open dashboard">
                {{runningTest.dashboardName}}
            </td>
            <td ui-sref="viewLiveGraphs({productName: runningTest.productName, dashboardName: runningTest.dashboardName, tag: 'Load'})" title="Open live graphs">
                {{runningTest.testRunId}}
            </td>

            <td ui-sref="viewLiveGraphs({productName: runningTest.productName, dashboardName: runningTest.dashboardName, tag: 'Load'})" title="Open live graphs">
                {{runningTest.start | date:'EEEE, dd-M-yyyy H:mm:ss'}}
            </td>
            <td ui-sref="viewLiveGraphs({productName: runningTest.productName, dashboardName: runningTest.dashboardName, tag: 'Load'})" title="Open live graphs">
                {{runningTest.humanReadableDuration }}
            </td>

            <td class="pointer">
                <div layout="column" layout-align="center left">
                    <md-progress-linear data-ng-if="runningTest.progress"  md-mode="determinate" value="{{runningTest.progress}}"></md-progress-linear>
                    <div class="running-test" data-ng-if="runningTest.progress" >{{runningTest.progress}}% of {{runningTest.humanReadablelastKnownDuration}}</div>
                </div>
                <md-progress-linear data-ng-if="!runningTest.progress" flex md-mode="indeterminate"></md-progress-linear>
            </td>
        </tr>
        </tbody>
    </table>


</div>
